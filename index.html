<!DOCTYPE html>
<html>
<head>
    <title>Memory Enhancer Game</title>
    <style>
        .game-board div {
            width: 50px;
            height: 50px;
            border: 1px solid black;
            display: inline-block;
            text-align: center;
            line-height: 50px;
            margin: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h2>Level: <span id="level">1</span></h2>
    <h2>Score: <span id="score">0</span></h2>
    <h2>Mistakes: <span id="mistakes">0</span></h2>
    <div id="game-board" class="game-board">
    </div>
    <p>Developed by Ahmed Hammam. Thanks to Fady for the support!</p>

    <script>
        var level = 1;
        var score = 0;
        var mistakes = 0;
        var currentNumber = 1;
        var board = document.getElementById('game-board');
        var levelElement = document.getElementById('level');
        var scoreElement = document.getElementById('score');
        var mistakesElement = document.getElementById('mistakes');

        function createBoard() {
            board.innerHTML = '';  // Clear the board
            currentNumber = 1;    // Reset the current number
            mistakes = 0;         // Reset the mistakes
            mistakesElement.textContent = mistakes;

            var numbers = Array.from({ length: level * level }, (_, i) => i + 1);

            // Shuffle the numbers array
            numbers.sort(() => Math.random() - 0.5);

            // Create the board
            for (let i = 0; i < level * level; i++) {
                var square = document.createElement('div');
                square.textContent = numbers[i];
                square.dataset.number = numbers[i];
                board.appendChild(square);
            }

            // Hide the numbers after 5 seconds
            setTimeout(function () {
                var squares = board.querySelectorAll('div');
                squares.forEach(function (square) {
                    square.textContent = '';
                });
            }, 5000);
        }

        // Click event listener
        board.addEventListener('click', function (event) {
            if (event.target.dataset.number) {
                // Check if the clicked number is the current number
                if (event.target.dataset.number == currentNumber) {
                    event.target.textContent = event.target.dataset.number;
                    event.target.style.pointerEvents = 'none';  // Disable further clicks on this square
                    score++;
                    scoreElement.textContent = score;

                    // Check if the player has clicked all numbers in the correct order
                    if (currentNumber == level * level) {
                        level++;
                        levelElement.textContent = level;
                        createBoard();
                    } else {
                        currentNumber++;
                    }
                } else {
                    mistakes++;
                    mistakesElement.textContent = mistakes;
                    if (mistakes >= 5) {
                        alert('Game Over! Your score is ' + score);
                        level = 1;
                        score = 0;
                        scoreElement.textContent = score;
                        levelElement.textContent = level;
                        createBoard();
                    }
                }
            }
        });

        createBoard();
    </script>
</body>
</html>
